<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script type = "text/javascript" src ="Customer.js"></script>
    <title>Title</title>
</head>
<body>
<script>
    let listCustomer = [];
    function displayMainMenu(){
        let choose = parseInt(prompt("1. Add new Customer" + "\n2. Display Information Customer" +
            "\n3. Display totalPay customer" + "\n4. Edit Information customer" +  "\n4. Delete Customer" + "\n5. Exit"));
        switch (choose) {
            case 1: {
                addNewCustomer();
                break;
            }
            case 3: {
                displayTotalPay();
                break;
            }
            default: {
                alert("Failed");
            }
        }
    }
    function displayTotalPay() {
        let temp = "";
        for(let i=0; i<listCustomer.length; i++){
            temp+= i + ". Name: " + listCustomer[i].getName() + "\n";
        }
        let chooseDisplay = parseInt(prompt(temp));
        alert("TotalPay của bạn là: " + listCustomer[chooseDisplay].totalPays())
    }
    function addNewCustomer() {
        let regexEmail = /\S+@\S+\.\S+/;
        let regexBirthday = /^\d{2}[./-]\d{2}[./-]\d{4}$/;
        let regexCmnd = /^\d{8}$/;
        let checkValid = false;
        let cus = new Customer();
        let cmnd;
        let birthday;
        let email;
        let name = prompt("input name : ");
        do {
            cmnd = prompt("input cmnd : ");
            if(regexCmnd.test(cmnd)){
                checkValid = true;
            } else {
                alert("CMND không hợp lệ");
            }
        }while (!checkValid)
        checkValid = false;

        do {
            birthday = prompt("input birthday : ");
            if(regexBirthday.test()){
                checkValid = true;
            } else{
                alert("Ngày sinh không hợp lệ")
            }
        }while (!checkValid)
        checkValid = false;
        do {
            email = prompt("input email : ");
            if(regexEmail.test(email)){
                checkValid = true;
            } else {
                alert("Email bạn nhập không hợp lệ");
            }
        } while (!checkValid)
        checkValid = false;
        let address = prompt("input address : ");
        let typeService = prompt("input typrService : ");
        let typeRoom = prompt("input typeRoom : ");
        let typeCustomer= prompt("input typeCustomer : ");
        let discount = prompt("input discount : ");
        let quantityIncluded = prompt("input quatityIncluded : ");
        let rendDays = prompt("input renDays : ");
        cus.setName(name);
        cus.setCmnd(cmnd);
        cus.setBirthday(birthday);
        cus.setEmail(email);
        cus.setAddress(address);
        cus.setTypeService(typeService);
        cus.setTypeRoom(typeRoom);
        cus.setTypeCustomer(typeCustomer);
        cus.setDiscount(discount);
        cus.setQuantityIncluded(quantityIncluded);
        cus.setRendDays(rendDays);
        listCustomer.push(cus);
        alert("Bạn đã thêm thành công");
        displayMainMenu();
    }
    displayMainMenu();


</script>
</body>
</html>